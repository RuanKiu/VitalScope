(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/oximeter.69a786ff.jpeg"},28:function(e,t,a){e.exports=a.p+"static/media/PFM.6490903b.jpeg"},29:function(e,t,a){e.exports=a.p+"static/media/vitalscope.db1f801d.png"},31:function(e,t,a){e.exports=a(46)},36:function(e,t,a){},37:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),c=(a(36),a(37),a(5)),i=a.n(c),s=a(10),u=a(12),m=a(6),p=a(1),d=a(27),f=a.n(d),h=a(28),b=a.n(h),g=a(8);var E=function(){var e=Object(n.useState)({FName:"",LName:"",heartRate:0,spo2:void 0,pefr:void 0,respRate:0,groupName:""}),t=Object(p.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),c=Object(p.a)(l,2),d=c[0],h=c[1],E=Object(n.useState)(!1),v=Object(p.a)(E,2),y=v[0],N=v[1],O=Object(n.useState)(!1),x=Object(p.a)(O,2),j=x[0],C=x[1],k=Object(n.useState)(!1),w=Object(p.a)(k,2),S=w[0],F=w[1],R=function(e){try{o(Object(m.a)(Object(m.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))}catch(t){console.log(t)}},M=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=Object(m.a)({},a),e.next=5,fetch("/server/data/",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"Application/json"}});case 5:return r=e.sent,e.next=8,r.json();case 8:"This group doesn't exist!"===e.sent?g.b.error("This group doesn't exist!"):g.b.success("Data Entered"),document.getElementById("data-form").reset(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),g.b.error("This group doesn't exist!"),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"title my-15"},r.a.createElement("h1",null,"Add Data")),r.a.createElement("div",{className:"main"}),r.a.createElement("form",{onSubmit:function(e){return M(e)},id:"data-form"},r.a.createElement("div",{className:"form-content my-10"},r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"Fname"},"First Name"),r.a.createElement("input",{name:"FName",onChange:function(e){return R(e)},required:!0,autoCapitalize:"off",minLength:"2"})),r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"LName"},"Last Name"),r.a.createElement("input",{name:"LName",onChange:function(e){return R(e)},required:!0,autoCapitalize:"off",minLength:"2"})),r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"heartRate"},"Heart Rate"),r.a.createElement("input",{name:"heartRate",onChange:function(e){return R(e)},required:!0,type:"number"})),r.a.createElement("button",{className:"help-button",onClick:function(e){h(!d)},type:"button"},"?"),d&&r.a.createElement("div",{className:"text my-5"},r.a.createElement("p",null,"Put your index and middle finger to the left of your windpipe where your neck connects to the tissues underneath your jaw. You should be able to feel your pulse on either side of your windpipe, but it might be easier to find on the left side. You may need to move your fingers around and press a little harder until you feel it. Use a clock or stopwatch to keep track of 15 seconds, count the pulses you feel, and then multiply by four. You should get about the same result when you measure your pulse at your wrist or your neck.")),r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"respRate"},"Respiratory Rate"),r.a.createElement("input",{name:"respRate",onChange:function(e){return R(e)},required:!0,type:"number"})),r.a.createElement("button",{className:"help-button",onClick:function(e){N(!y)},type:"button"},"?"),y&&r.a.createElement("div",{className:"text my-5"},r.a.createElement("p",null,"Your respiratory rate is also known as your breathing rate. This is the number of breaths you take per minute. You can measure your breathing rate by counting the number of breaths you take over the course of one minute while you're at rest.")),r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"spo2"},"Blood Oxygen Saturation"),r.a.createElement("input",{name:"spo2",onChange:function(e){return R(e)},placeholder:"Optional",type:"number"})),r.a.createElement("button",{className:"help-button",onClick:function(e){F(!S)},type:"button"},"?"),S&&r.a.createElement("div",{className:"text my-5"},r.a.createElement("p",null,"Your blood oxygen level is a measure of how much oxygen your red blood cells are carrying. Maintaining the precise balance of oxygen-saturated blood is vital to your health.",r.a.createElement("br",null),"A pulse oximeter (pulse ox) is a noninvasive device that estimates the amount of oxygen in your blood. To use it, simply clip it on your finger or earlobe and wait for a minute. The reading that appears indicates what percentage of your blood is saturated, known as the SpO2 level."),r.a.createElement("img",{src:f.a,className:"image rounded"})),r.a.createElement("div",{className:"formcontrol my-5"}," ",r.a.createElement("label",{htmlFor:"pefr"},"Peak Expiratory Flow Rate"),r.a.createElement("input",{name:"pefr",onChange:function(e){return R(e)},placeholder:"Optional",type:"number"})),r.a.createElement("button",{className:"help-button",onClick:function(e){C(!d)},type:"button"},"?"),j&&r.a.createElement("div",{className:"text my-5"},r.a.createElement("p",null,"Peak flow measurement is a quick test to measure air flowing out of the lungs. The measurement is also called the peak expiratory flow rate (PEFR) or the peak expiratory flow (PEF).During the test, you blow forcefully into the mouthpiece of a device. A peak flow meter (PFM) is used most often. This is a small handheld device made of plastic. A PFM is small and light enough to be used almost anywhere. It\u2019s important to use the same PFM on a regular basis. The readings can vary between brands and types of meters."),r.a.createElement("img",{className:"image rounded",src:b.a})),r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"groupName"},"Group Name"),r.a.createElement("input",{name:"groupName",onChange:function(e){return R(e)},required:!0,autoCapitalize:"off",minLength:"2"})),r.a.createElement("button",{type:"submit",className:"form-button my-5"},"\xbb")))))},v=a(29),y=a.n(v);a(25);var N=function(){var e=Object(n.useState)({groupCode:"",groupName:""}),t=Object(p.a)(e,2),a=t[0],o=t[1],l=a.groupName,c=a.groupCode,d=function(e){try{o(Object(m.a)(Object(m.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))}catch(t){console.log(t)}},f=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Object(m.a)({},a),e.next=4,fetch("/server/groups",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:"This group already exists!"===(l=e.sent)?g.b.error(l):g.b.success("Group Created!"),o({groupCode:"",groupName:""});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement("img",{src:y.a,className:"image"}),r.a.createElement("div",{className:"title my-20"},r.a.createElement("h1",null,"VitalScope")),r.a.createElement("div",{className:"text px-10"},r.a.createElement("p",null,"VitalScope is a tool that helps doctors and nurses track vitals after a patient has recovered.",r.a.createElement("br",null),"By monitoring patients' health data, disease and sickness can be detected early and reinfection can be prevented.")),r.a.createElement("div",{className:"title-thin my-20"},r.a.createElement("h2",null,"Quickstart Guide")),r.a.createElement("div",{className:"text my-5 px-10"},r.a.createElement("h3",null,"For Physicians and Medical Staff"),r.a.createElement("p",null,"To begin, create a monitoring group for patients to join. ",r.a.createElement("br",null),"Choose a name and a group code; the code will be used to view your patient's data, so keep it confidential.")),r.a.createElement("form",{id:"data-form",onSubmit:function(e){return f(e)}},r.a.createElement("div",{className:"form-content my-10"},r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"groupName"},"Your Monitoring Group's Name"),r.a.createElement("input",{name:"groupName",value:l,onChange:function(e){return d(e)},autoCapitalize:"off",autoComplete:"off",required:!0,minLength:"2"})),r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"groupCode"},"Your Monitoring Group's Code"),r.a.createElement("input",{name:"groupCode",value:c,onChange:function(e){return d(e)},autoCapitalize:"off",autoComplete:"off",required:!0,minLength:"2"})),r.a.createElement("button",{className:"form-button",type:"submit"},"+"))),r.a.createElement("div",{className:"text my-5 px-10"},r.a.createElement("h3",null,"For Patients"),r.a.createElement("p",null,"Adding and submitting data is quick and simple; head over to the 'Add Data' page,",r.a.createElement("br",null)," then follow the instructions to obtain your vitals"))))},O=a(23),x=a(20),j=a.n(x);var C=function(e){var t=e.patientId,a=e.groupCode,o=e.groupName,l=e.setChange,c=e.biggestChanges,u=e.FName,m=e.LName,d=Object(n.useState)(!1),f=Object(p.a)(d,2),h=f[0],b=f[1],g=Object(n.useState)([]),E=Object(p.a)(g,2),v=E[0],y=E[1],N=function(){var e=Object(s.a)(i.a.mark((function e(){var n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={patientId:t,groupCode:a,groupName:o},e.next=4,fetch("/server/patients",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:l=e.sent,y(l),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){if(v&&0!==v.length){for(var e=0,t=0,a=0,n=0,r={},o={},i={},s={},p=1;p<v.length;p++)Math.abs(v[p].heartrate-v[p-1].heartrate)>e&&(e=Math.abs(v[p].heartrate-v[p-1].heartrate),r=v[p]),Math.abs(v[p].resprate-v[p-1].resprate)>t&&(t=Math.abs(v[p].resprate-v[p-1].resprate),o=v[p]),Math.abs(v[p].pefr-v[p-1].pefr)>n&&(n=Math.abs(v[p].pefr-v[p-1].pefr),i=v[p]),Math.abs(v[p].spo2-v[p-1].spo2)>a&&(a=Math.abs(v[p].spo2-v[p-1].spo2),s=v[p]);var d={heartInfo:r,respInfo:o,pefrInfo:i,spo2Info:s,FName:u,LName:m,PDiff:n,SDiff:a,HDiff:e,RDiff:t};Object(O.a)(c).push(d),l([].concat(Object(O.a)(c),[d]))}}()}),[v]),Object(n.useEffect)((function(){N()}),[]),Object(n.useEffect)((function(){if(h){var e=v.map((function(e){return{x:new Date(e.datadate),y:e.heartrate}})),t=v.map((function(e){return{x:new Date(e.datadate),y:e.resprate}})),a=v.filter((function(e){return void 0!==e.pefr||null!==e.pefr||e.pefr})).map((function(e){return{x:new Date(e.datadate),y:e.pefr}})),n=v.filter((function(e){return void 0!==e.spo2||null!==e.spo2||e.spo2})).map((function(e){return{x:new Date(e.datadate),y:e.spo2}})),r=document.getElementById("chart").getContext("2d"),o=document.getElementById("chart-2").getContext("2d");new j.a(r,{type:"line",data:{datasets:[{label:"Heart Rate (Beats Per Minute)",data:e,backgroundColor:"rgba(221, 63, 63, 0.7)",pointBackgroundColor:"rgba(221, 63, 63, 0.5)",pointBorderColor:"rgba(221, 63, 63, 1)",pointRadius:7,pointHoverRadius:13},{label:"Respiratory Rate (Breaths Per Minute)",data:t,backgroundColor:"rgba(63, 79, 221, 0.7)",pointBackgroundColor:"rgba(63, 79, 221, 0.5)",pointBorderColor:"gba(63, 79, 221, 1)",pointRadius:10,pointHoverRadius:15}]},options:{aspectRatio:1,layout:{padding:{left:10,right:10,top:20,bottom:20}},scales:{xAxes:[{type:"time"}]}}}),new j.a(o,{type:"line",data:{datasets:[{label:"Peak Expiratory Flow Rate",data:a,backgroundColor:"rgba(218, 221, 63, 0.7)",pointBackgroundColor:"rgba(218, 221, 63, 0.5)",pointBorderColor:"rgba(218, 221, 63, 1)",pointRadius:7,pointHoverRadius:13},{label:"Blood-Oxygen Saturation",data:n,backgroundColor:"rgba(221, 100, 63, 0.7)",pointBackgroundColor:"rgba(221, 100, 63, 0.5)",pointBorderColor:"rgba(221, 100, 63, 1)",pointRadius:7,pointHoverRadius:13}]},options:{aspectRatio:1,layout:{padding:{left:10,right:10,top:20,bottom:20}},scales:{xAxes:[{type:"time"}]}}})}}),[v,h]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container my-10"},r.a.createElement("div",{className:"title-thin my-10"},r.a.createElement("h2",null,u,", ",m)),r.a.createElement("button",{type:"button",className:"help-button",onClick:function(e){b(!h)}},"Info"),h&&r.a.createElement("div",{className:"charts"},r.a.createElement("canvas",{id:"chart"}),r.a.createElement("canvas",{id:"chart-2"}))))};var k=function(){var e=Object(n.useState)({groupName:"",groupCode:""}),t=Object(p.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),c=Object(p.a)(l,2),d=c[0],f=c[1],h=Object(n.useState)({}),b=Object(p.a)(h,2),E=b[0],v=b[1],y=Object(n.useState)([]),N=Object(p.a)(y,2),O=N[0],x=N[1],j=Object(n.useState)([]),k=Object(p.a)(j,2),w=k[0],S=k[1],F=a.groupName,R=a.groupCode,M=Object(n.useState)(void 0),T=Object(p.a)(M,2),P=T[0],B=T[1],I=Object(n.useState)(void 0),D=Object(p.a)(I,2),L=D[0],A=D[1],Y=Object(n.useState)(void 0),q=Object(p.a)(Y,2),H=q[0],G=q[1],z=Object(n.useState)(void 0),J=Object(p.a)(z,2),V=J[0],Q=J[1],U=Object(n.useState)(void 0),K=Object(p.a)(U,2),W=K[0],X=K[1],Z=Object(n.useState)(void 0),$=Object(p.a)(Z,2),_=$[0],ee=$[1],te=function(e){try{o(Object(m.a)(Object(m.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))}catch(t){console.log(t)}},ae=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=Object(m.a)({},a),e.next=5,fetch("/server/groups/users",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(n)});case 5:return r=e.sent,e.next=8,r.json();case 8:if("This group doesn't exist"!==(l=e.sent)){e.next=13;break}return g.b.error("This group does not exist"),o({groupName:"",groupCode:""}),e.abrupt("return");case 13:x(l),v(Object(m.a)({},a)),o({groupName:"",groupCode:""}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),g.b.error("Incorrect group code."),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){try{for(var t=0,a=0;a<e.length;a++)t+=e[a];return t/e.length}catch(n){console.log(n)}},re=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(m.a)({},E),e.next=4,fetch("/server/data/all",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(t)});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,S(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){if(W&&W!=={}&&_&&_!=={})for(var e=0;e<d.length;e++)d[e].heartInfo.heartrate>W.heartInfo.heartrate&&X(d[e]),d[e].respInfo.resprate>_.respInfo.resprate&&ee(d[e])}()}),[W,_]),Object(n.useEffect)((function(){!d.length>0||!d||(X(d[0]),ee(d[0]))}),[d]),Object(n.useEffect)((function(){re()}),[E]),Object(n.useEffect)((function(){if("This group doesn't exist"!==w&&0!==w.length){var e=w.map((function(e){return e.heartrate}));B(e);var t=w.map((function(e){return e.resprate}));A(t);var a=w.filter((function(e){return void 0!==e.pefr||null!==e.pefr||e.pefr})).map((function(e){return e.pefr}),[w]);G(a);var n=w.filter((function(e){return void 0!==e.spo2||null!==e.spo2||e.spo2})).map((function(e){return e.spo2}),[w]);Q(n)}}),[w]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"title my-10"},r.a.createElement("h1",null,"Groups")),r.a.createElement("form",{id:"get-data-form",onSubmit:function(e){return ae(e)}},r.a.createElement("div",{className:"form-content my-10"},r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"groupName"},"Group Name"),r.a.createElement("input",{type:"text",name:"groupName",value:F,onChange:function(e){return te(e)},required:!0,autoCapitalize:"off",minLength:"2"})),r.a.createElement("div",{className:"formcontrol my-5"},r.a.createElement("label",{htmlFor:"groupCode"},"Group Code"),r.a.createElement("input",{type:"text",name:"groupCode",value:R,onChange:function(e){return te(e)},required:!0,autoCapitalize:"off",minLength:"2"})),r.a.createElement("button",{className:"form-button",type:"submit"},"\xbb"))),W&&void 0!==W&&void 0!==W.heartInfo.datadate&&r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"title-thin px-5"},r.a.createElement("h3",null,"Largest Change in Heart Rate: ",W.HDiff," Be/Min")),r.a.createElement("div",{className:"text my-5"},r.a.createElement("p",null,W.FName," ",W.LName," ",r.a.createElement("br",null),W.heartInfo.heartrate," Beats Per Minute",r.a.createElement("br",null),W.heartInfo.datadate.split("T")[0]))),_&&void 0!==_&&void 0!==_.respInfo.datadate&&r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"title-thin px-5"},r.a.createElement("h3",null,"Largest Change in Respiratory Rate: ",_.RDiff," Br/Min")),r.a.createElement("div",{className:"text my-5"},r.a.createElement("p",null,_.FName," ",_.LName," ",r.a.createElement("br",null),_.respInfo.resprate," Breaths Per Minute",r.a.createElement("br",null),_.respInfo.datadate.split("T")[0]))),P&&r.a.createElement("div",{className:"title-thin my-5 px-5"},r.a.createElement("h4",null,"Average Heart Rate:"," ",0===ne(P)?"No Data Yet":ne(P)+" Be/Min"," ")),L&&r.a.createElement("div",{className:"title-thin my-5 px-5"}," ",r.a.createElement("h4",null,"Average Respiratory Rate:"," ",0===ne(L)?"No Data Yet":ne(L)+" Br/Min"," ")),H&&r.a.createElement("div",{className:"title-thin my-5 px-5"},r.a.createElement("h4",null,"Average Peak Expiratory Flow Rate:"," ",0===ne(H)?"No Data Yet":ne(H)+" L/Min"," ")),V&&r.a.createElement("div",{className:"title-thin my-5 px-5"},r.a.createElement("h4",null,"Average Blood Oxygen Saturation:"," ",0===ne(V)?"No Data Yet":ne(V)+" %")),O&&0!==O.length&&r.a.createElement("div",{className:"title my-10"},r.a.createElement("h1",null,"Your Patients")),O&&O.map((function(e){return r.a.createElement("div",{key:e.patientid},r.a.createElement(C,{patientId:e.patientid,groupCode:R,groupName:F,setChange:f,biggestChanges:d,FName:e.fname,LName:e.lname}))}))))},w=a(15),S=a(2);var F=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"nav-bar"},r.a.createElement("ul",{className:"nav-list"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(w.b,{to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(w.b,{to:"/data"},"Add Data")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(w.b,{to:"groups"},"Monitor Patients")))),r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/",component:N}),r.a.createElement(S.b,{exact:!0,path:"/data",component:E}),r.a.createElement(S.b,{exact:!0,path:"/groups",component:k}),r.a.createElement(S.b,{exact:!0,path:"/patient/:id",component:C}),r.a.createElement(S.b,{path:"/"},r.a.createElement(S.a,{to:"/"}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w.a,null,r.a.createElement(F,null),r.a.createElement(g.a,null))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.b9f008a9.chunk.js.map